<div class="wrapper wrapper-content animated fadeInRight" ng-controller="searchCtrl as sCtrl">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Search</h5>

                    <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                    <form role="form">
                        <div class="row">
                            <div class="col-sm-6 b-r">
                                <div class="form-group">
                                    <label>Scientific Name</label>
                                    <input type="search" class="form-control" ng-model="herbarFilter.sname">
                                </div>
                                <div class="form-group">
                                    <label>Taxon</label>
                                    <input type="search" class="form-control" ng-model="herbarFilter.taxon">
                                </div>
                                <div class="form-group">
                                    <label>Family</label>
                                    <input type="search" class="form-control" ng-model="herbarFilter.family">
                                </div>

                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Herbar Nr.</label>
                                    <input type="search" class="form-control" ng-model="herbarFilter.herbarNr">
                                </div>
                                <div class="form-group">
                                    <label>Collector</label>
                                    <input type="search" class="form-control" ng-model="herbarFilter.collector">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <button class="btn btn-sm btn-primary pull-right" type="submit" ng-click="search()">
                                    <i class="fa fa-search"/>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Results</h5>

                    <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                    <table class="table table-striped table-hover">
                        <thead>
                        <tr>
                            <th>Herbar #</th>
                            <th>Scientific Name</th>
                            <th>Sub Species</th>
                            <th>Family</th>
                            <th>Collection Date</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat-start="sheet in sh.sheets">
                            <td><span class="m-r-sm"><a ng-click="toggleDetails(sheet)">
                                <i ng-if="!sheet.showDetails" class="fa fa-caret-right fa-lg"/>
                                <i ng-if="sheet.showDetails" class="fa fa-caret-down fa-lg"/></a></span>{{sheet.number}}</td>
                            <td>{{sheet.scientificName}}</td>
                            <td>{{sheet.subSpecies}}</td>
                            <td>{{sheet.family}}</td>
                            <td>{{sheet.collectionDate | date : 'd. MMMM y'}}</td>
                            <td><a ng-click="goToDetails(sheet)">Show Sheet</a></td>
                        </tr>
                        <tr ng-if="sheet.showDetails" ng-repeat-end="">
                            <td colspan="5">
                                <ul class="unstyled">
                                    <li>
                                        <label>Collector:</label>
                                        <span>{{sheet.collector}}</span>
                                    </li>
                                    <li>
                                        <label>Location Description:</label>
                                        <span>{{sheet.locationDescription}}</span>
                                    </li>
                                    <li>
                                        <label>Altitude:</label>
                                        <span>{{sheet.altitude}}</span>
                                    </li>
                                    <li>
                                        <label>Exposition</label>
                                        <span>{{sheet.exposition}}</span>
                                    </li>
                                    <li>
                                        <label>Habitat Information</label>
                                        <span>{{sheet.habitatInformation}}</span>
                                    </li>
                                    <li>
                                        <label>Annotations</label>
                                        <span>{{sheet.annotations}}</span>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                        </tbody>
                        <tfoot>

                        </tfoot>
                    </table>
                    <div class="row">
                        <div class="col-lg-3">Showing {{sh.totalDisplayRecords}} (filtered from {{sh.totalRecords}})</div>
                        <div class="col-lg-9">
                            <ul class="pagination pull-right">
                                <li>
                                    <a ng-enabled="sh.totalPages > 0" class="previous" ng-click="previous()"
                                       ng-disabled="sh.currentPage == 1"><i class="fa fa-angle-left"/></a>
                                </li>

                                <li ng-repeat="page in pages()">
                                    <a ng-enabled="sh.totalPages > 0" class="" ng-click="goToPage($index + 1)"
                                       ng-class="{'active': page == sh.currentPage}">{{page}}</a></li>

                                <li>
                                    <a ng-enabled="sh.totalPages > 0" ng-disabled="sh.currentPage == sh.totalPages"
                                       class="next" ng-click="next()">
                                        <i class="fa fa-angle-right"/>
                                    </a>
                                </li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>