<?xml version='1.0' encoding='utf-8'?>
<beans xmlns="http://www.springframework.org/schema/beans"
			 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
			 xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
			 ">

	<bean name="jsonErrorResolver" class="at.thammerer.service.json.error.ImprovedJsonErrorResolver">
		<constructor-arg name="defaultErrorCode" value="#{T(com.rise.psa.bsm.tx.jsonrpc.exception.BsmTxErrorCodes).GENERAL_ERROR}"/>
		<constructor-arg name="defaultExceptionType" value="at.thammerer.service.json.error.ExternalVisibleException"/>
		<property name="clazzesNotToLogStacktrace">
			<set>
				<value>at.thammerer.service.json.error.JsonRpcEx</value>
				<value>at.thammerer.service.json.error.JsonRpcExWithData</value>
				<value>at.thammerer.service.json.error.ExternalVisibleException</value>
				<value>com.googlecode.jsonrpc4j.JsonRpcClientException</value>
			</set>
		</property>
	</bean>

	<bean name="dataServiceExport" class="com.googlecode.jsonrpc4j.spring.JsonServiceExporter">
		<property name="service" ref="dataServiceJsonRpc"/>
		<property name="serviceInterface" value="at.thammerer.herbarium.api.DataServiceJsonRpc"/>
		<property name="errorResolver" ref="jsonErrorResolver"/>
		<property name="allowExtraParams" value="true"/>
		<property name="allowLessParams" value="true"/>
	</bean>

</beans>
